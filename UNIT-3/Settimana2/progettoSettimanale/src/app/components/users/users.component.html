<div class="container mt-4 d-flex justify-content-center flex-column gap-4">
  <h1
    class="text-primary border-bottom border-primary border-3 align-self-start"
  >
    LIST OF USERS
  </h1>
  <div
    *ngFor="let user of users"
    class="d-flex flex-column align-items-center border rounded-2 shadow"
  >
    <div class="d-flex align-items-center gap-4 py-5">
      <div>
        <img src="{{ user.image }}" alt="" />
      </div>
      <div class="d-flex flex-column col-8">
        <div>
          <h3 class="m-0">{{ user.firstName }} {{ user.lastName }}</h3>
          <p class="m-0">{{ user.title }}</p>
        </div>
        <div *ngFor="let todo of getUserTodos(user.id)">
          <div
            class="form-check border border-black d-flex flex-column justify-content-center flex-column"
            [ngClass]="{
              'bg-success': todo.completed,
              'bg-danger': !todo.completed
            }"
          >
            <div class="p-3">
              <input
                [checked]="todo.completed"
                (change)="onCheckboxChange($event, todo.id)"
                class="form-check-input"
                type="checkbox"
                [value]="todo.completed"
                id="flexCheckDefault_{{ todo.id }}"
              />
              <label
                class="form-check-label fw-bold m-0"
                for="flexCheckDefault_{{ todo.id }}"
              >
                {{ todo.todo }}
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
